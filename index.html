<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Snake 2025 ‚Äî Neon Grid 3D</title>
<style>
:root {
  --bg: #ffffff;
  --snake: #00ff88;
  --grid: #e8e8e8;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui, sans-serif}
body {
  display:flex;align-items:center;justify-content:center;
  height:100vh;background:var(--bg);color:#000;
}
#gameContainer {
  position:relative;
  display:flex;flex-direction:column;align-items:center;
}
canvas {
  background:var(--bg);
  border:2px solid #ccc;
  box-shadow:0 0 12px rgba(0,0,0,0.2);
}
.menu, .gameover, .leaderboard {
  position:absolute;top:0;left:0;width:100%;height:100%;
  background:rgba(255,255,255,0.9);
  display:flex;flex-direction:column;justify-content:center;align-items:center;
}
.hidden{display:none}
button, select {
  margin:6px;padding:8px 14px;
  border:none;border-radius:8px;
  background:#00c973;color:#fff;
  cursor:pointer;font-weight:600;
  box-shadow:0 0 8px rgba(0,255,136,0.3);
}
button:hover{background:#00a45d}
#scoreBox{margin-top:8px;font-weight:700}
</style>
</head>
<body>
<div id="gameContainer">
  <canvas id="game" width="400" height="400"></canvas>

  <div id="menu" class="menu">
    <h1>üêç Snake 2025</h1>
    <p>Select Difficulty & Color</p>
    <div>
      <select id="difficulty">
        <option value="140">Easy</option>
        <option value="100" selected>Medium</option>
        <option value="60">Hard</option>
      </select>
      <select id="snakeColor">
        <option value="#00ff88" selected>Neon Green</option>
        <option value="#00bfff">Cyan</option>
        <option value="#ff77ff">Pink</option>
        <option value="#ffcc00">Gold</option>
      </select>
    </div>
    <button id="startBtn">Start Game</button>
    <button id="leaderBtn">Leaderboard</button>
  </div>

  <div id="gameover" class="gameover hidden">
    <h2>üí• Game Over</h2>
    <p id="finalScore"></p>
    <button id="restartBtn">Play Again</button>
    <button id="homeBtn">Home</button>
  </div>

  <div id="leaderboard" class="leaderboard hidden">
    <h3>üèÜ Leaderboard (Local)</h3>
    <ol id="scoreList"></ol>
    <button id="backBtn">Back</button>
  </div>

  <div id="scoreBox">Score: 0 | High: 0</div>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
const box=20;
let snake=[],food,dx=box,dy=0,score=0,speed=100,snakeColor="#00ff88";
let interval=null;
let high=localStorage.getItem("snakeHigh")||0;
let scores=JSON.parse(localStorage.getItem("snakeScores")||"[]");
document.getElementById("scoreBox").innerText=`Score: 0 | High: ${high}`;
function randomFood(){
  return {
    x:Math.floor(Math.random()* (canvas.width/box))*box,
    y:Math.floor(Math.random()* (canvas.height/box))*box
  };
}
function drawNeon(x,y,color,head=false){
  ctx.save();
  const grad=ctx.createLinearGradient(x,y,x+box,y+box);
  grad.addColorStop(0,color);
  grad.addColorStop(1,"#ffffff55"); // tail glow fix
  ctx.fillStyle=grad;
  ctx.shadowBlur=head?20:10;
  ctx.shadowColor=color;
  ctx.fillRect(x+1.5,y+1.5,box-3,box-3);
  ctx.restore();
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // background grid
  ctx.strokeStyle="#f0f0f0";
  ctx.lineWidth=0.3;
  for(let i=0;i<canvas.width;i+=box){
    ctx.beginPath();
    ctx.moveTo(i,0);ctx.lineTo(i,canvas.height);ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(0,i);ctx.lineTo(canvas.width,i);ctx.stroke();
  }
  for(let i=0;i<snake.length;i++){
    drawNeon(snake[i].x,snake[i].y,snakeColor,i===0);
  }
  ctx.fillStyle="#ff3366";
  ctx.shadowBlur=12;ctx.shadowColor="#ff3366";
  ctx.fillRect(food.x,food.y,box,box);
}
function update(){
  const head={x:snake[0].x+dx,y:snake[0].y+dy};
  // wall check
  if(head.x<0||head.x>=canvas.width||head.y<0||head.y>=canvas.height||snake.some(p=>p.x===head.x&&p.y===head.y)){
    gameOver();return;
  }
  snake.unshift(head);
  if(head.x===food.x&&head.y===food.y){
    score+=10;
    document.getElementById("scoreBox").innerText=`Score: ${score} | High: ${high}`;
    food=randomFood();
  }else snake.pop();
  draw();
}
function startGame(){
  document.getElementById("menu").classList.add("hidden");
  document.getElementById("gameover").classList.add("hidden");
  score=0;dx=box;dy=0;
  snake=[{x:9*box,y:10*box}];
  food=randomFood();
  speed=parseInt(document.getElementById("difficulty").value);
  snakeColor=document.getElementById("snakeColor").value;
  interval=setInterval(update,speed);
}
function gameOver(){
  clearInterval(interval);
  if(score>high){high=score;localStorage.setItem("snakeHigh",high);}
  scores.push(score);scores=scores.sort((a,b)=>b-a).slice(0,10);
  localStorage.setItem("snakeScores",JSON.stringify(scores));
  document.getElementById("finalScore").innerText=`Your Score: ${score}`;
  document.getElementById("scoreBox").innerText=`Score: ${score} | High: ${high}`;
  document.getElementById("gameover").classList.remove("hidden");
}
document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft"&&dx===0){dx=-box;dy=0}
  else if(e.key==="ArrowUp"&&dy===0){dx=0;dy=-box}
  else if(e.key==="ArrowRight"&&dx===0){dx=box;dy=0}
  else if(e.key==="ArrowDown"&&dy===0){dx=0;dy=box}
});
document.getElementById("startBtn").onclick=startGame;
document.getElementById("restartBtn").onclick=startGame;
document.getElementById("homeBtn").onclick=()=>{document.getElementById("menu").classList.remove("hidden");document.getElementById("gameover").classList.add("hidden");};
document.getElementById("leaderBtn").onclick=()=>{
  document.getElementById("leaderboard").classList.remove("hidden");
  const list=document.getElementById("scoreList");
  list.innerHTML="";
  scores.forEach(s=>{let li=document.createElement("li");li.textContent=s;list.appendChild(li)});
};
document.getElementById("backBtn").onclick=()=>document.getElementById("leaderboard").classList.add("hidden");
</script>
</body>
</html>
