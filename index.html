<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Snake 2025 ‚Äî Dark Neon Edition</title>
<style>
:root {
  --bg: #000814;
  --snake: #00ff88;
  --food: #ff006e;
  --grid: #001d3d;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',sans-serif}
body {
  display:flex;align-items:center;justify-content:center;
  height:100vh;background:var(--bg);color:#fff;
}
#gameContainer {
  position:relative;
  display:flex;flex-direction:column;align-items:center;
}
canvas {
  background:radial-gradient(circle at center, #001220 0%, #000814 100%);
  border:2px solid #003566;
  box-shadow:0 0 20px rgba(0,255,136,0.1);
  border-radius:12px;
}
.menu, .gameover, .leaderboard {
  position:absolute;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,20,0.8);
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  color:#00ffcc;text-shadow:0 0 10px rgba(0,255,136,0.6);
  border-radius:12px;
}
.hidden{display:none}
button, select {
  margin:6px;padding:8px 14px;
  border:none;border-radius:8px;
  background:#00c973;color:#fff;
  cursor:pointer;font-weight:600;
  box-shadow:0 0 12px rgba(0,255,136,0.4);
}
button:hover{background:#00a45d}
#scoreBox{margin-top:10px;font-weight:700;color:#00ffcc;text-shadow:0 0 10px rgba(0,255,136,0.8);}
</style>
</head>
<body>
<div id="gameContainer">
  <canvas id="game" width="400" height="400"></canvas>

  <div id="menu" class="menu">
    <h1>üêç Snake 2025</h1>
    <p style="margin:6px 0 10px;color:#66fff5;">Select Difficulty & Color</p>
    <div>
      <select id="difficulty">
        <option value="140">Easy</option>
        <option value="100" selected>Medium</option>
        <option value="60">Hard</option>
      </select>
      <select id="snakeColor">
        <option value="#00ff88" selected>Neon Green</option>
        <option value="#00bfff">Cyan</option>
        <option value="#ff77ff">Pink</option>
        <option value="#ffd166">Gold</option>
      </select>
    </div>
    <button id="startBtn">Start Game</button>
    <button id="leaderBtn">Leaderboard</button>
  </div>

  <div id="gameover" class="gameover hidden">
    <h2>üí• Game Over</h2>
    <p id="finalScore"></p>
    <button id="restartBtn">Play Again</button>
    <button id="homeBtn">Home</button>
  </div>

  <div id="leaderboard" class="leaderboard hidden">
    <h3>üèÜ Leaderboard (Local)</h3>
    <ol id="scoreList"></ol>
    <button id="backBtn">Back</button>
  </div>

  <div id="scoreBox">Score: 0 | High: 0</div>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
const box=20;
let snake=[],food,dx=box,dy=0,score=0,speed=100,snakeColor="#00ff88";
let interval=null;
let high=localStorage.getItem("snakeHigh")||0;
let scores=JSON.parse(localStorage.getItem("snakeScores")||"[]");
document.getElementById("scoreBox").innerText=`Score: 0 | High: ${high}`;

function randomFood(){
  return {
    x:Math.floor(Math.random()*(canvas.width/box))*box,
    y:Math.floor(Math.random()*(canvas.height/box))*box
  };
}

function drawNeon(x,y,color,head=false){
  ctx.save();
  const grad=ctx.createLinearGradient(x,y,x+box,y+box);
  grad.addColorStop(0,color);
  grad.addColorStop(1,"#00ff8822"); // faint tail glow
  ctx.fillStyle=grad;
  ctx.shadowBlur=head?25:12;
  ctx.shadowColor=color;
  ctx.fillRect(x+1.5,y+1.5,box-3,box-3);
  ctx.restore();
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // draw grid lines
  ctx.strokeStyle="rgba(0,255,136,0.05)";
  ctx.lineWidth=0.3;
  for(let i=0;i<canvas.width;i+=box){
    ctx.beginPath();ctx.moveTo(i,0);ctx.lineTo(i,canvas.height);ctx.stroke();
    ctx.beginPath();ctx.moveTo(0,i);ctx.lineTo(canvas.width,i);ctx.stroke();
  }

  for(let i=0;i<snake.length;i++){
    drawNeon(snake[i].x,snake[i].y,snakeColor,i===0);
  }

  ctx.fillStyle=varFood;
  ctx.shadowBlur=15;
  ctx.shadowColor=varFood;
  ctx.fillRect(food.x,food.y,box,box);
}

let varFood="var(--food)";
function update(){
  const head={x:snake[0].x+dx,y:snake[0].y+dy};
  if(head.x<0||head.x>=canvas.width||head.y<0||head.y>=canvas.height||snake.some(p=>p.x===head.x&&p.y===head.y)){
    gameOver();return;
  }
  snake.unshift(head);
  if(head.x===food.x&&head.y===food.y){
    score+=10;
    document.getElementById("scoreBox").innerText=`Score: ${score} | High: ${high}`;
    food=randomFood();
  }else snake.pop();
  draw();
}

function startGame(){
  document.getElementById("menu").classList.add("hidden");
  document.getElementById("gameover").classList.add("hidden");
  score=0;dx=box;dy=0;
  snake=[{x:9*box,y:10*box}];
  food=randomFood();
  speed=parseInt(document.getElementById("difficulty").value);
  snakeColor=document.getElementById("snakeColor").value;
  interval=setInterval(update,speed);
}

function gameOver(){
  clearInterval(interval);
  if(score>high){high=score;localStorage.setItem("snakeHigh",high);}
  scores.push(score);scores=scores.sort((a,b)=>b-a).slice(0,10);
  localStorage.setItem("snakeScores",JSON.stringify(scores));
  document.getElementById("finalScore").innerText=`Your Score: ${score}`;
  document.getElementById("scoreBox").innerText=`Score: ${score} | High: ${high}`;
  document.getElementById("gameover").classList.remove("hidden");
}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft"&&dx===0){dx=-box;dy=0}
  else if(e.key==="ArrowUp"&&dy===0){dx=0;dy=-box}
  else if(e.key==="ArrowRight"&&dx===0){dx=box;dy=0}
  else if(e.key==="ArrowDown"&&dy===0){dx=0;dy=box}
});

document.getElementById("startBtn").onclick=startGame;
document.getElementById("restartBtn").onclick=startGame;
document.getElementById("homeBtn").onclick=()=>{document.getElementById("menu").classList.remove("hidden");document.getElementById("gameover").classList.add("hidden");};
document.getElementById("leaderBtn").onclick=()=>{
  document.getElementById("leaderboard").classList.remove("hidden");
  const list=document.getElementById("scoreList");
  list.innerHTML="";
  scores.forEach(s=>{let li=document.createElement("li");li.textContent=s;list.appendChild(li)});
};
document.getElementById("backBtn").onclick=()=>document.getElementById("leaderboard").classList.add("hidden");
</script>
</body>
</html>
