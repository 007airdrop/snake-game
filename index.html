<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Snake 2025 ‚Äì Neon Ultra+ 3D</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Courier New', monospace; }
    body {
      background: #ffffff;
      color: #00c06f;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }
    h1 { font-size: 2em; margin-bottom: 20px; text-shadow: 0 0 10px #00ff9d; }

    button {
      background: rgba(0,255,153,0.1);
      border: 1px solid #00c06f;
      border-radius: 8px;
      color: #00c06f;
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
      margin: 6px;
      transition: 0.3s;
    }
    button:hover { background: #00c06f; color: white; box-shadow: 0 0 10px #00ff9d; }

    #gameContainer {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    canvas {
      border: 2px solid #00ff99;
      background: linear-gradient(to bottom, #ffffff, #f8fff9);
      box-shadow: 0 0 10px #00ff9d;
    }

    #scoreboard { margin-top: 10px; font-size: 1.1em; }

    .menu, .leaderboard {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.8s ease;
    }

    @keyframes fadeIn { from { opacity: 0; transform: scale(0.95);} to { opacity: 1; transform: scale(1);} }

    .hidden { display: none; }
  </style>
</head>
<body>

  <div id="menu" class="menu">
    <h1>üêç Snake 2025 ‚Äì Neon Ultra+ 3D</h1>
    <button onclick="startGame('easy')">Start Easy</button>
    <button onclick="startGame('medium')">Start Medium</button>
    <button onclick="startGame('hard')">Start Hard</button>
    <button onclick="showLeaderboard()">Leaderboard</button>
    <button onclick="alert('Use arrow keys or swipe to move. Eat food to grow. Avoid walls and yourself!')">How to Play</button>
  </div>

  <div id="gameContainer">
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <div id="scoreboard">Score: <span id="score">0</span> | High: <span id="highscore">0</span></div>
    <button onclick="pauseGame()">Pause</button>
    <button onclick="backToMenu()">Back to Menu</button>
  </div>

  <div id="leaderboard" class="leaderboard hidden">
    <h1>üèÜ Leaderboard</h1>
    <ol id="scoreList"></ol>
    <button onclick="backToMenu()">Back</button>
  </div>

  <audio id="eatSound" src="https://cdn.pixabay.com/download/audio/2021/09/27/audio_0bda39b855.mp3?filename=collectcoin-6075.mp3"></audio>
  <audio id="crashSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4e3a7b7a4b.mp3?filename=error-126627.mp3"></audio>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const eatSound = document.getElementById('eatSound');
    const crashSound = document.getElementById('crashSound');
    const scoreElem = document.getElementById('score');
    const highElem = document.getElementById('highscore');

    let box = 20, snake, food, direction, score, speed, game, paused = false;

    function startGame(mode) {
      document.getElementById('menu').style.display = 'none';
      document.getElementById('leaderboard').classList.add('hidden');
      document.getElementById('gameContainer').style.display = 'flex';
      resetGame(mode);
    }

    function resetGame(mode) {
      snake = [{x: 9*box, y:10*box}];
      direction = null;
      food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
      score = 0;
      speed = mode === 'easy' ? 140 : mode === 'medium' ? 110 : 80;
      if (game) clearInterval(game);
      game = setInterval(draw, speed);
    }

    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowLeft' && direction !== 'RIGHT') direction = 'LEFT';
      else if (e.key === 'ArrowUp' && direction !== 'DOWN') direction = 'UP';
      else if (e.key === 'ArrowRight' && direction !== 'LEFT') direction = 'RIGHT';
      else if (e.key === 'ArrowDown' && direction !== 'UP') direction = 'DOWN';
    });

    function draw() {
      if (paused) return;
      ctx.clearRect(0, 0, 400, 400);

      // 3D style background gradient
      const grad = ctx.createLinearGradient(0, 0, 400, 400);
      grad.addColorStop(0, "#ffffff");
      grad.addColorStop(1, "#f3fff8");
      ctx.fillStyle = grad;
      ctx.fillRect(0, 0, 400, 400);

      // Draw 3D glowing snake
      for (let i = 0; i < snake.length; i++) {
        const alpha = 1 - i / snake.length;
        const color = `rgba(0,192,111,${0.6 + alpha * 0.4})`;
        const glow = ctx.createRadialGradient(
          snake[i].x + box / 2,
          snake[i].y + box / 2,
          2,
          snake[i].x + box / 2,
          snake[i].y + box / 2,
          12
        );
        glow.addColorStop(0, color);
        glow.addColorStop(1, "rgba(0,192,111,0)");
        ctx.fillStyle = glow;
        ctx.beginPath();
        ctx.arc(snake[i].x + box / 2, snake[i].y + box / 2, box / 2, 0, Math.PI * 2);
        ctx.fill();
      }

      // Draw glowing food
      const foodGlow = ctx.createRadialGradient(food.x + box / 2, food.y + box / 2, 2, food.x + box / 2, food.y + box / 2, 14);
      foodGlow.addColorStop(0, "#ffb200");
      foodGlow.addColorStop(1, "rgba(255,178,0,0)");
      ctx.fillStyle = foodGlow;
      ctx.beginPath();
      ctx.arc(food.x + box / 2, food.y + box / 2, box / 2 - 2, 0, Math.PI * 2);
      ctx.fill();

      let headX = snake[0].x, headY = snake[0].y;
      if (direction === 'LEFT') headX -= box;
      if (direction === 'UP') headY -= box;
      if (direction === 'RIGHT') headX += box;
      if (direction === 'DOWN') headY += box;

      if (headX === food.x && headY === food.y) {
        score++;
        eatSound.play();
        food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
      } else {
        snake.pop();
      }

      const newHead = {x: headX, y: headY};
      if (headX < 0 || headY < 0 || headX >= 400 || headY >= 400 || collision(newHead, snake)) {
        crashSound.play();
        clearInterval(game);
        saveScore(score);
        alert('üí• Game Over! Your score: ' + score);
        backToMenu();
      }

      snake.unshift(newHead);
      scoreElem.textContent = score;
      let high = localStorage.getItem('highscore') || 0;
      if (score > high) localStorage.setItem('highscore', score);
      highElem.textContent = localStorage.getItem('highscore');
    }

    function collision(head, array) {
      return array.some(s => s.x === head.x && s.y === head.y);
    }

    function pauseGame() { paused = !paused; }

    function backToMenu() {
      clearInterval(game);
      document.getElementById('gameContainer').style.display = 'none';
      document.getElementById('leaderboard').classList.add('hidden');
      document.getElementById('menu').style.display = 'flex';
    }

    function saveScore(score) {
      let scores = JSON.parse(localStorage.getItem('scores') || '[]');
      scores.push(score);
      scores.sort((a,b) => b - a);
      localStorage.setItem('scores', JSON.stringify(scores.slice(0,10)));
    }

    function showLeaderboard() {
      document.getElementById('menu').style.display = 'none';
      const list = document.getElementById('scoreList');
      list.innerHTML = '';
      let scores = JSON.parse(localStorage.getItem('scores') || '[]');
      scores.forEach((s, i) => {
        const li = document.createElement('li');
        li.textContent = `#${i+1}: ${s}`;
        list.appendChild(li);
      });
      document.getElementById('leaderboard').classList.remove('hidden');
    }
  </script>
</body>
</html>
